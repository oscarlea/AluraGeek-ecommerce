<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>



    
    
    <div  style="display: flex; justify-content: center; width: 300px; height: 300px; border: 1px solid; flex-direction: column; text-align: center;" >
        <div id="drop-zone" style="background-color: aqua; width: 100%; height: 100%;">Arrastre y suelte la imagen aquí</div>
    </div>
    <input type="file" id="file-input" onchange="nuevo()">


    <script>
        var dropZone = document.getElementById('drop-zone');
        dropZone.addEventListener('dragover', function (event) {
            event.preventDefault();
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', function () {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', function (event) {
            event.preventDefault();
            dropZone.classList.remove('drag-over');

            var file = event.dataTransfer.files[0];
            var formData = new FormData();
            formData.append('image', file);

            var url = 'https://api.imgbb.com/1/upload?key=2e19dc41ed6f9adfef9db4e153ec1592';

            fetch(url, {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    console.log(data.data.url);
                })
                .catch(error => {
                    console.error(error);
                });
        });
    </script>
    




    <script>
        function nuevo() {

            // Obtenga el archivo de imagen del campo de entrada de archivo
            var fileInput = document.getElementById('file-input');
            var file = fileInput.files[0];

            // Cree un objeto FormData y agregue el archivo de imagen a él
            var formData = new FormData();
            formData.append('image', file);

            // Agregue su API-KEY a la URL de la solicitud
            var url = 'https://api.imgbb.com/1/upload?key=2e19dc41ed6f9adfef9db4e153ec1592';

            // Realice una solicitud POST con Fetch
            fetch(url, {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    // La respuesta de ImgBB contiene la URL de la imagen subida
                    console.log(data.data.url);
                    console.log(data.data);
                })
                .catch(error => {
                    console.error(error);
                });

        }
    </script>

</body>
</html>